[gd_scene load_steps=86 format=3 uid="uid://ckxkkjgb4u2yi"]

[ext_resource type="PackedScene" uid="uid://ti57wti5jlrd" path="res://characters/character.tscn" id="1_qnami"]
[ext_resource type="Script" path="res://components/hurt_box.gd" id="2_mlw8g"]
[ext_resource type="Script" path="res://controllers/hit_box.gd" id="3_xy7vw"]
[ext_resource type="Shader" path="res://blue_to_red.gdshader" id="4_62llk"]
[ext_resource type="Texture2D" uid="uid://cs076rvdbivw" path="res://assets/ThreeEnemies/Shock Sweeper/slam with VFX.png" id="4_fmdim"]
[ext_resource type="Texture2D" uid="uid://uepq3xg8psdo" path="res://assets/ThreeEnemies/Shock Sweeper/wake.png" id="4_vche0"]
[ext_resource type="Texture2D" uid="uid://br6lvfpwemaqe" path="res://assets/ThreeEnemies/Shock Sweeper/shuffe(move).png" id="5_gg8yt"]
[ext_resource type="Texture2D" uid="uid://c4nbq61fn4r38" path="res://assets/ThreeEnemies/Shock Sweeper/death.png" id="5_hjh2a"]
[ext_resource type="Texture2D" uid="uid://c4cf1acyjg5ck" path="res://assets/ThreeEnemies/Shock Sweeper/hit.png" id="5_sgdd8"]
[ext_resource type="AnimationLibrary" uid="uid://co8bi35r5sp1c" path="res://characters/pickeman/pickeman_anims.res" id="9_q01do"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://jyyyp1mh6mw3" path="res://characters/hell_bot/default_enemy.tres" id="11_k3dqt"]
[ext_resource type="Script" path="res://controllers/states/idle_state.gd" id="11_q2mts"]
[ext_resource type="Script" path="res://controllers/states/run_state.gd" id="12_wqtk0"]
[ext_resource type="Script" path="res://characters/hell_bot/hellbot_attack_state.gd" id="13_o42yb"]
[ext_resource type="Script" path="res://characters/hell_bot/hit_state.gd" id="14_8sqk8"]
[ext_resource type="Script" path="res://controllers/states/death_state.gd" id="15_5it3f"]
[ext_resource type="AudioStream" uid="uid://dloxn3aaqe67p" path="res://assets/sounds/Pickeman_attack.wav" id="16_0htuf"]
[ext_resource type="AudioStream" uid="uid://b2gaphqyox35u" path="res://assets/sounds/hitsound.wav" id="17_jdjmv"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ljkjx"]
size = Vector2(22, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yn8ym"]
size = Vector2(10, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f7cnd"]
size = Vector2(44, 25)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rd8ul"]
shader = ExtResource("4_62llk")

[sub_resource type="AtlasTexture" id="AtlasTexture_06yt3"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 0, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_x6xby"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 30, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_nt4u4"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 60, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_4cxau"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 90, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_wo4o1"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 120, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_inhej"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 150, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_2w4n2"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 180, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_3c2ta"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 210, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_7bwld"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 240, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_1nl6f"]
atlas = ExtResource("4_fmdim")
region = Rect2(0, 270, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3ib0"]
atlas = ExtResource("5_hjh2a")
region = Rect2(0, 0, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_cltn1"]
atlas = ExtResource("5_hjh2a")
region = Rect2(0, 30, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_dqcow"]
atlas = ExtResource("5_hjh2a")
region = Rect2(0, 60, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_1usiq"]
atlas = ExtResource("5_hjh2a")
region = Rect2(0, 90, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_lx83f"]
atlas = ExtResource("5_hjh2a")
region = Rect2(0, 120, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_es273"]
atlas = ExtResource("5_sgdd8")
region = Rect2(0, 0, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_q6t7b"]
atlas = ExtResource("5_sgdd8")
region = Rect2(0, 30, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_bcjv8"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 0, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_pv3pe"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 30, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_gjfi4"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 60, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_80h2r"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 90, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_gp7cu"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 120, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_14pp8"]
atlas = ExtResource("4_vche0")
region = Rect2(0, 150, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_carog"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 0, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_faj0p"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 30, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_x7tiw"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 60, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_e1rds"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 90, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtk6l"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 120, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_74018"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 150, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_wou0i"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 180, 88, 30)

[sub_resource type="AtlasTexture" id="AtlasTexture_i4gso"]
atlas = ExtResource("5_gg8yt")
region = Rect2(0, 210, 88, 30)

[sub_resource type="SpriteFrames" id="SpriteFrames_vvi4k"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_06yt3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x6xby")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nt4u4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4cxau")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wo4o1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_inhej")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2w4n2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3c2ta")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7bwld")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1nl6f")
}],
"loop": false,
"name": &"Attack",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3ib0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cltn1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dqcow")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1usiq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lx83f")
}],
"loop": false,
"name": &"Death",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_es273")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q6t7b")
}],
"loop": false,
"name": &"Hit",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bcjv8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pv3pe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gjfi4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_80h2r")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gp7cu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_14pp8")
}],
"loop": true,
"name": &"Idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_carog")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_faj0p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x7tiw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e1rds")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtk6l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_74018")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wou0i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i4gso")
}],
"loop": true,
"name": &"Run",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_xr8h5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Pickeman/CollisionShape2D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_veo0l"]
_data = {
"RESET": SubResource("Animation_xr8h5")
}

[node name="Pickeman" instance=ExtResource("1_qnami")]

[node name="Hurtbox" type="Area2D" parent="." index="0" node_paths=PackedStringArray("agent", "health_component")]
collision_layer = 0
collision_mask = 2
script = ExtResource("2_mlw8g")
agent = NodePath("..")
health_component = NodePath("../HealthComponent")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hurtbox" index="0"]
position = Vector2(0, -10)
shape = SubResource("RectangleShape2D_ljkjx")
debug_color = Color(6.73831e-07, 0.633822, 0.436113, 0.42)

[node name="CollisionShape2D" type="CollisionShape2D" parent="." index="1"]
position = Vector2(0, -5)
shape = SubResource("RectangleShape2D_yn8ym")

[node name="HitBox" type="Area2D" parent="CollisionShape2D" index="0" node_paths=PackedStringArray("agent", "damage_component")]
collision_layer = 4
collision_mask = 0
script = ExtResource("3_xy7vw")
agent = NodePath("../..")
damage_component = NodePath("../../DamageComponent")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CollisionShape2D/HitBox" index="0"]
position = Vector2(12, -7.5)
shape = SubResource("RectangleShape2D_f7cnd")

[node name="AnimatedSprite2D" parent="." index="2"]
material = SubResource("ShaderMaterial_rd8ul")
position = Vector2(16, -15)
sprite_frames = SubResource("SpriteFrames_vvi4k")
animation = &"Idle"
frame = 2
metadata/_edit_lock_ = true

[node name="HealthComponent" parent="." index="3" node_paths=PackedStringArray("agent")]
agent = NodePath("..")

[node name="DamageComponent" parent="." index="4" node_paths=PackedStringArray("damage_causer")]
damage_causer = NodePath("..")

[node name="AnimationPlayer" parent="." index="5"]
libraries = {
"": SubResource("AnimationLibrary_veo0l"),
"pickeman_anims": ExtResource("9_q01do")
}

[node name="AnimationTree" parent="." index="6"]
tree_root = ExtResource("11_k3dqt")
parameters/conditions/attacking = false
parameters/conditions/dead = false
parameters/conditions/got_hit = false
parameters/conditions/idle = false
parameters/conditions/running = false
parameters/conditions/shooting = false

[node name="LimboHSM" parent="." index="7" node_paths=PackedStringArray("character", "animation_tree")]
character = NodePath("..")
animation_tree = NodePath("../AnimationTree")
state_conditions = {
"got_hit": "parameters/conditions/got_hit"
}

[node name="Idle" type="LimboState" parent="LimboHSM" index="0"]
script = ExtResource("11_q2mts")

[node name="Run" type="LimboState" parent="LimboHSM" index="1"]
script = ExtResource("12_wqtk0")
speed = 20.0
acceleration = 1.0
max_speed = 30.0

[node name="Attack" type="LimboState" parent="LimboHSM" index="2"]
script = ExtResource("13_o42yb")
max_combo_attacks = 1

[node name="Hit" type="LimboState" parent="LimboHSM" index="3"]
script = ExtResource("14_8sqk8")

[node name="Death" type="LimboState" parent="LimboHSM" index="4"]
script = ExtResource("15_5it3f")

[node name="Sounds" type="Node2D" parent="." index="8"]

[node name="AttackSound" type="AudioStreamPlayer2D" parent="Sounds" index="0"]
stream = ExtResource("16_0htuf")
volume_db = -10.0
bus = &"SFX"

[node name="HitSound" type="AudioStreamPlayer2D" parent="Sounds" index="1"]
stream = ExtResource("17_jdjmv")
volume_db = -20.0
pitch_scale = 0.7
bus = &"SFX"
